<!DOCTYPE html>
<html lang="en">

<%- include ('./partials/head', {title: 'Nahif Form Productos' })%>

    <body>
        <%- include ('./partials/header') %>
            <main class="mainAltaProd">
                <form action="/products/altaProducto/create" method="post" class="altaProducto" enctype="multipart/form-data">
                    <h2>ALTA DE PRODUCTO</h2>
                    <section id="errores">
                        <ul>

                        </ul>
                    </section>
                    <div class="formAltaProd">

                        <input type="text" id="nombreProdAlta" name="nombreProdAlta" placeholder="Nombre del producto"  value="<%= locals.oldData ? oldData.nombreProdAlta : null %>">
                        <% if (locals.errors && errors.nombreProdAlta) { %>
                            <p class="mensajeError"><%=errors.nombreProdAlta.msg  %></p>
                            <% } %>
                        <textarea name="descProdAlta" id="descProdAlta" cols="25" rows="5"  value="<%= locals.oldData ? oldData.descProdAlta : null %>">Descripción del producto</textarea>
                        <% if (locals.errors && errors.descProdAlta) { %>
                            <p class="mensajeError"><%=errors.descProdAlta.msg  %></p>
                            <% } %>
                            <div class="nuevaFotoProd">
                                <label for="fotoProdPpal">Foto principal</label>
                                <input type="file" name="fotoProdPpal" accept=".jpg, .png, .jpeg, .gif" id="fotoProdPpal">
                                <% if (locals.errors && errors.fotoProdPpal) { %>
                                    <p class="mensajeError"><%=errors.fotoProdPpal.msg  %></p>
                                <% } %>
                            </div>
                            <div class="nuevaFotoProd">
                                <label for="fotoProdAlta">Agregar fotos</label>
                                <input type="file" name="fotoProdAlta" accept=".jpg, .png, .jpeg, .gif" id="fotoProdAlta" multiple>
                                <% if (locals.errors && errors.fotoProdAlta) { %>
                                <p class="mensajeError"><%=errors.fotoProdAlta.msg  %></p>
                                <% } %>
                            </div>
                        <div class="precioProdAlta">
                            <label for="categoriaProdAlta">Categoría del producto</label>
                            <select name="categoriaProdAlta" id="categoriaProdAlta">
                                <% for (let i=0; i<listCategorias.length;i++){ %>
                                <option value="<%= listCategorias[i].id %>"><%= listCategorias[i].nombre %></option>
                                <% } %>
                            </select>
                        </div>
                        <div class="colProdAlta">
                            <p class="precioProdAlta">Colores disponibles</p>
                            <% for(let i=0;i < listColores.length; i++) { %>
                            <div>
                                <input type="checkbox" id="coloresProdAlta" name="coloresProdAlta" value="<%= listColores[i].id %>" id="<%= listColores[i].id %>">
                                <label for="<%= listColores[i].id %>"><%= listColores[i].nombre %></label>
                            </div>
                            <% } %>
                            <% if (locals.errors && errors.coloresProdAlta) { %>
                            <p class="mensajeError"><%=errors.coloresProdAlta.msg  %></p>
                            <% } %>
                        </div>
                        <div class="precioProdAlta">
                            <label class="precioProdAlta" for="talleProdAlta">Talle</label>
                            <select name="talleProdAlta" id="talleProdAlta">
                                <% for (let i=0; i<listTalles.length;i++){ %>
                                <option value="<%= listTalles[i].id %>"><%= listTalles[i].nombre %></option>
                                <% } %>
                            </select>
                        </div>
                        <div class="precioProdAlta">
                            <div>
                                <label for="stock">Cant</label>
                                <input type="number" name="stock" id="stock" value="<%= locals.oldData ? oldData.stock : null %>">
                                <% if (locals.errors && errors.stock) { %>
                                <p class="mensajeError"><%=errors.stock.msg  %></p>
                                <% } %>
                            </div>
                        </div>
                        <div class="precioProdAlta">
                            <label for="precioProdAlta">Precio: $</label>
                            <input type="number" id="precioProdAlta" name="precioProdAlta" id="precioProdAlta" value="<%= locals.oldData ? oldData.precioProdAlta : null %>">
                            <% if (locals.errors && errors.precioProdAlta) { %>
                                <p class="mensajeError"><%=errors.precioProdAlta.msg  %></p>
                            <% } %>
                        </div>
                        <div class="antesProdAlta">
                            <label for="descuentoProdAlta">Descuento: %</label>
                            <input type="number" name="descuentoProdAlta" id="descuentoProdAlta" value="<%= locals.oldData ? oldData.descuentoProdAlta : null %>">
                            <% if (locals.errors && errors.descuentoProdAlta) { %>
                                <p class="mensajeError"><%=errors.descuentoProdAlta.msg  %></p>
                            <% } %>
                        </div>
                        <div class="botonesAlta">
                            <button type="submit" class="ingresar">INGRESAR</button>
                            <button type="reset" class="borrar">BORRAR</button>
                        </div>
                    </div>
                </form>
            </main>
            <%- include ('./partials/footer') %>
            <script src="/js/altaProducto.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    </body>

</html>